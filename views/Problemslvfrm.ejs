<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/Problemslvfrm.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    <title>CampusConnect</title>
</head>
<body>
    <%- include("header.ejs") %>
    <%- include("sidebar.ejs") %>
    <div class="maincon">
        <div class="mainpage">
            <div class="toptop">
                <div class="top">
                    <div class="searchques">
                        <h1 class="outfit">Trending <span>Q</span>uestions</h1>
                        <p class="outfit">Available Questions - 5,34,513</p>
                    </div>
                    <div class="askaques">
                        <a href="/ask" style="text-decoration: none;">
                            <button class="outfit">Ask a Question</button>
                        </a>
                    </div>
                </div>
                <div class="searchquesinput">
                    <div class="input-container">
                        <div class="input">
                          <form action="">
                            <div class="advsearch">
                              <input type="text" placeholder="Search a Question">
                              <button type="submit"><img src="./assets/search.png" alt=""></button>
                            </div>
                          </form>
                        </div>  
                        <div class="hidden-div">
                            <p>Filters will go here</p>
                        </div>
                    </div>                    
                    <div class="filter">
                        <button><img src="./assets/filter (1).png" alt=""></button>
                    </div>
                </div>
            </div>
            <hr>
            <div class="problems">
                
                <% questions.forEach((question) => { %>
                    <div class="problem outfit">
                        <div class="votes">
                            <p><%= question.votes %> votes</p>
                            <p><%= question.answers.length %> answers</p>
                            <p><%= question.views %> views</p>
                        </div>
                        <div class="main">
                            <a href="/problemopen/<%= question.id %>" style="text-decoration: none;"><h4><%= question.heading %></h4></a>
                            <p><%= question.desc.slice(0, 100) %>...</p> 
                            <div class="tags">
                                <% question.tags.forEach(tag => { %>
                                    <div><p><%= tag %></p></div>
                                <% }) %>
                            </div>
                        </div>
                        <div class="user">
                            <div class="useruser">
                                <img src="./assets/duck_with_A_gun 1.png" alt="">
                                <p><%= question.asker %></p>
                            </div>
                        </div>
                    </div>
                    <hr class="problemline">
                <% }); %>
            </div>
        </div>

    </div>
<script src="./scripts/problemslvfrm.js"></script>
</body>
</html>